#:kivy 1.0.4
#<ScrollView>:
#    canvas:
#        Color:
#            rgb: 1, 0, 0
#        Rectangle:
#            pos: self.pos
#            size: self.size

<GridLayout>:
    canvas:
        Color:
            rgb: 0, 0, 0
        Rectangle:
            pos: self.pos
            size: self.size

#<RequestButton>

<RequestButtonCountry>
    height: 40
    size_hint: (1, None)
    on_press: app.pressed_request_button(self)
    background_color: 0, .5, 0, 1

    StackLayout:
        height: 40
        size_hint: (1, 1)
        pos: self.parent.pos
        size: self.parent.size
        orientation: 'lr-tb'
        spacing: 10

        AsyncImage:
            size_hint: (0.2, 1)
            source: root.img

        Label:
            text_size: self.width, None
            size_hint: (0.8, 1)
            text: root.get_text()
            markup: True

<RequestButtonYear>
    height: 40
    size_hint: (1, None)
    text_size: self.width, None
    text: self.get_text()
    background_color: 0, .5, 0, 1
    halign: 'left'
    valign: 'middle'
    on_press: app.pressed_request_button(self)
    markup: True

<CoinView>
    cols: 1,
    padding: 10
    spacing: 10
    size_hint_y: None
    canvas.before:
        Color:
            rgba: [.2, .2, .2, 1] if self.have else [0, 0, 0, 1]
        Rectangle:
            pos: self.pos
            size: self.size
    AsyncImage:
        size_hint_x: 0.2
        source: root.img

    Label:
        text: root.year
        size_hint_x: 0.2
        color: (1, 1, 1, 1)
        markup: True

    Label:
        text: root.description
        color: (1, 1, 1, 1)
        markup: True
        #size_hint_y: None
        text_size: self.width, None
        #height: self.texture_size[1]
        halign: 'left'
        valign: 'middle'


BoxLayout:
    spacing: 10
    ScrollView:
        size_hint_x: 0.3
        color: (1, 1, 1, 1)
        GridLayout:
            id: coins_group_layout
            cols: 1
            padding: 10
            spacing: 10
            size_hint: (1, None)
            height: self.minimum_height

    CoinScroll:
        id: coins_scroll_view
        #on_scroll_stop: app.coins_scroll_stop()
        on_scroll_down_event: app.on_scroll_down_callback()
        do_scroll_x: False
        GridLayout:
            id: coins_layout
            cols: 1
            padding: 10
            spacing: 10
            size_hint_y: None
            height: self.minimum_height
